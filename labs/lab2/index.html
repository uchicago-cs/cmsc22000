<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Lab 2: Software Design  &middot; CS 220</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="">


<meta property="og:title" content="Lab 2: Software Design  &middot; CS 220 ">
<meta property="og:site_name" content="CS 220"/>
<meta property="og:url" content="https://uchicago-cs.github.io/cmsc22000/labs/lab2/" />
<meta property="og:locale" content="en-us">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="2018-01-28T00:00:00Z" />
<meta property="og:article:modified_time" content="2018-01-28T00:00:00Z" />

  

  
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<meta name="twitter:creator" content="@" />
<meta name="twitter:title" content="Lab 2: Software Design" />
<meta name="twitter:description" content="" />
<meta name="twitter:url" content="https://uchicago-cs.github.io/cmsc22000/labs/lab2/" />
<meta name="twitter:domain" content="https://uchicago-cs.github.io/cmsc22000/">
  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Lab 2: Software Design",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2018-01-28",
    "description": "",
    "wordCount":  996 
  }
</script>



<link rel="canonical" href="https://uchicago-cs.github.io/cmsc22000/labs/lab2/" />

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://uchicago-cs.github.io/touch-icon-144-precomposed.png">
<link href="https://uchicago-cs.github.io/favicon.png" rel="icon">

<meta name="generator" content="Hugo 0.69.0" />

  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link href='https://fonts.googleapis.com/css?family=Merriweather:300%7CRaleway%7COpen+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/cmsc22000/css/font-awesome.min.css">
<link rel="stylesheet" href="/cmsc22000/css/style.css">


  <link rel="stylesheet" href="https://uchicago-cs.github.io/cmsc22000/css/custom.css">
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>


  
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-27880910-4', 'auto');
	  ga('send', 'pageview');

	</script>

</head>
<body>
  <main id="main-wrapper" class="container main_wrapper has-sidebar">
    <header id="main-header" class="container main_header">
  <div class="container brand">
  <div class="container title h1-like">
  <a class="baselink" href="https://uchicago-cs.github.io/cmsc22000/">
  CS 220

</a>

</div>

  
<div class="container topline">
  
  Introduction to Software Development


</div>


</div>

  <nav class="container nav primary no-print">
  


  
<a href="https://uchicago-cs.github.io/cmsc22000/syllabus/">Syllabus</a>

<a href="https://uchicago-cs.github.io/cmsc22000/calendar/">Course Calendar</a>

<a href="https://uchicago-cs.github.io/cmsc22000/project/">Project</a>

<a href="https://uchicago-cs.github.io/cmsc22000/labs/">Labs</a>

<a href="https://uchicago-cs.github.io/cmsc22000/resources/">Additional Resources</a>

<a href="https://uchicago-cs.github.io/cmsc22000/faq/">FAQs</a>


</nav>

<div class="container nav secondary no-print">
  





 


















</div>


  

</header>


<article id="main-content" class="container main_content single">
  <header class="container hat">
  <h1>Lab 2: Software Design
</h1>

</header>

  <div class="container content">
  <p><strong>Due:</strong> Wednesday, April 22nd, 8pm</p>
<p>In this lab, you will carry out some basic software design tasks. This lab will be shorter than in other labs, because you will also be working on a design warmup exercise with your project team. Please note that, while the design warmup exercise is due at the same time as this lab, it will be part of your project score (it is not counted as an additional lab assignment).</p>
<h2 id="creating-your-lab-repository">Creating your lab repository</h2>
<p>In this lab, you will be using a different repository than the one you used in the previous lab (in general, GitHub will create a new repository for each assignment). Like the previous lab, we will provide you with an  <em>invitation URL</em> that will allow you sign up for the lab assignment on GitHub, and which will result in the creation of a repository called <code>2020-labN-GITHUB_USERNAME</code> inside our <code>cmsc22000-labs</code> organization on GitHub.</p>
<p>One thing that will be different in this lab is that your lab repository will be seeded with some code. So, once you&rsquo;ve signed up for the lab assignment on GitHub, you will just need to clone the repository to start working on it (you won&rsquo;t need to run <code>git init</code> or add any files to the repository before you start working on the lab.)</p>
<p>Please note that there will be a separate invitation URL to create a shared repository that everyone in your team will have access to.</p>
<h2 id="refactoring-libgeometry">Refactoring libgeometry</h2>
<p>Your repository contains a single directory <code>libgeometry</code> that contains the implementation of a simple library for manipulating basic geometric shapes. You can build the library just by running this inside the <code>libgeometry</code> directory:</p>
<pre><code>$ make
</code></pre>
<p>And build some sample programs that use the library like this:</p>
<pre><code>$ make samples
</code></pre>
<p>You can run the sample program like this:</p>
<pre><code>$ samples/polygon-sample
The perimeter is 8.00
The area is 4.00
</code></pre>
<p>You&rsquo;ll notice there is also a <code>polygon-sample-static</code> program as well; you can ignore it for now.</p>
<p>When we get to <em>Implementation</em> in class, we&rsquo;ll discuss exactly how a &ldquo;library&rdquo; is built, and how it is linked with other programs. You will not need to understand how the code is built to complete this lab.</p>
<p>The library currently provides two modules:</p>
<ul>
<li>A Point module (<code>include/point.h' and </code>src/point.c`) that provides a number of operations on two-dimensional points</li>
<li>A Polygon module (<code>include/polygon.h' and </code>src/polygon.c`) that provides a number of operations on polygons, and which depends on the Point module.</li>
</ul>
<p>We encourage you to read through the above files, and ask questions if anything is unclear in that code.</p>
<p>One thing to note is that the Point module provides the following function:</p>
<pre><code>bool segment_intersect(point_t *p1, point_t *q1, point_t *p2, point_t *q2)
</code></pre>
<p>While this function operates on points, what it really does is operate on line segments (i.e., a finite-length line in two-dimensional space, delimited by two points). That said, placing the <code>segment_intersect</code> function inside <code>point.c</code> / <code>point.h</code> is arguably a valid design choice: if segment intersection is the only operation for which we have to work with segments, it would be potentially wasteful to spend the time to define a Segment module just to compute segment intersections.</p>
<p>However, as we continue to develop libgeometry, we realize that we need to perform segment operations in a variety of other places. So, it now makes sense to refactor our code to add a Segment module.</p>
<p>In this task, you must do the following:</p>
<ul>
<li>
<p><strong>Task 1</strong> (30 points) Add <code>segment.c</code> / <code>segment.h</code> files with the implementation and interface of a new Segment data type. Make sure to include new/init/free functions (like the ones for Point and Polygon). You will also need to update the Makefile to make sure this new file is compiled and included in the libgeometry library. Just update the <code>SRCS</code> variable in the Makefile to include your new <code>segment.c</code> file.</p>
</li>
<li>
<p><strong>Task 2</strong> (20 points) Take <code>segment_intersect</code> (and associated helper functions) out of <code>point.c</code> / <code>point.h</code> and make them a part of the Segment module. Take into account that this will involve changing the parameters of the function, since it now has to operate on Segments, not on Points.</p>
</li>
<li>
<p><strong>Task 3</strong> (20 points) Update the Polygon implementation so it uses this updated <code>segment_intersect</code> function. At this point, you should be able to build the entire library by running <code>make</code></p>
</li>
<li>
<p><strong>Task 4</strong> (30 points) Uh oh, the libgeometry library may build correctly, but not the tests! (try this by running <code>make tests</code>) This is because they still depend on the old version of the <code>segment_intersect</code> function. This is an example of how things can break if dependencies are not properly managed.</p>
<p>In the <code>test_point.c</code> file, update the intersection tests to make sure they use the new version of the file (you don’t need to know exactly how these tests work, and you can keep these tests inside the <code>test_point.c</code>; in a future lab, we will see a cleaner way of updating the tests). Once you have fixed this, you should be able to run <code>make tests</code> followed by <code>tests/test-libgeometry</code>.</p>
</li>
</ul>
<h2 id="submitting-your-lab">Submitting your lab</h2>
<p>Before submitting, make sure you&rsquo;ve added, committed, and pushed all your code to GitHub. You will submit your code through Gradescope but, unlike the previous lab, we need you to submit the code that is in your repository (as opposed to filling in some text fields).</p>
<p>When submitting through Gradescope, you will be given the option of manually uploading files, or of uploading a GitHub repository (we recommend the latter, as this ensures you are uploading exactly the files that are in your repository). If you upload your repository, make sure you select your <code>2020-lab2-GITHUB_USERNAME</code> repository, with &ldquo;master&rdquo; as the branch. Please note that you can submit as many times as you want before the deadline.</p>
<p>Once you submit your files, an &ldquo;autograder&rdquo; will run. This won&rsquo;t actually be doing any grading, but it will try to build your code, to make sure you don&rsquo;t have any compiler errors, etc. If you do, make sure to fix them and re-submit again.</p>

</div>


  
</article>
      <footer id="main-footer" class="container main_footer">
  

  <div class="container nav foot no-print">
  

  <a class="toplink" href="#">back to top</a>

</div>

  <div class="container credits">
  
<div class="container footline">
  

</div>


  

</div>

</footer>

    </main>
    


    
  </body>
</html>

