<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>chiventure: a Text Adventure Game Engine  &middot; CS 220</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="">


<meta property="og:title" content="chiventure: a Text Adventure Game Engine  &middot; CS 220 ">
<meta property="og:site_name" content="CS 220"/>
<meta property="og:url" content="https://uchicago-cs.github.io/cmsc22000/project/chiventure/" />
<meta property="og:locale" content="en-us">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="0001-01-01T00:00:00Z" />
<meta property="og:article:modified_time" content="0001-01-01T00:00:00Z" />

  

  
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<meta name="twitter:creator" content="@" />
<meta name="twitter:title" content="chiventure: a Text Adventure Game Engine" />
<meta name="twitter:description" content="" />
<meta name="twitter:url" content="https://uchicago-cs.github.io/cmsc22000/project/chiventure/" />
<meta name="twitter:domain" content="https://uchicago-cs.github.io/cmsc22000/">
  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "chiventure: a Text Adventure Game Engine",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "0001-01-01",
    "description": "",
    "wordCount":  1271 
  }
</script>



<link rel="canonical" href="https://uchicago-cs.github.io/cmsc22000/project/chiventure/" />

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://uchicago-cs.github.io/touch-icon-144-precomposed.png">
<link href="https://uchicago-cs.github.io/favicon.png" rel="icon">

<meta name="generator" content="Hugo 0.80.0" />

  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link href='https://fonts.googleapis.com/css?family=Merriweather:300%7CRaleway%7COpen+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/cmsc22000/css/font-awesome.min.css">
<link rel="stylesheet" href="/cmsc22000/css/style.css">


  <link rel="stylesheet" href="https://uchicago-cs.github.io/cmsc22000/css/custom.css">
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>


  
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-27880910-4', 'auto');
	  ga('send', 'pageview');

	</script>

</head>
<body>
  <main id="main-wrapper" class="container main_wrapper has-sidebar">
    <header id="main-header" class="container main_header">
  <div class="container brand">
  <div class="container title h1-like">
  <a class="baselink" href="https://uchicago-cs.github.io/cmsc22000/">
  CS 220

</a>

</div>

  
<div class="container topline">
  
  Introduction to Software Development


</div>


</div>

  <nav class="container nav primary no-print">
  


  
<a href="https://uchicago-cs.github.io/cmsc22000/syllabus/">Syllabus</a>

<a href="https://uchicago-cs.github.io/cmsc22000/calendar/">Course Calendar</a>

<a href="https://uchicago-cs.github.io/cmsc22000/project/">Project</a>

<a href="https://uchicago-cs.github.io/cmsc22000/labs/">Labs</a>

<a href="https://uchicago-cs.github.io/cmsc22000/resources/">Additional Resources</a>

<a href="https://uchicago-cs.github.io/cmsc22000/faq/">FAQs</a>


</nav>

<div class="container nav secondary no-print">
  





 


















</div>


  

</header>


<article id="main-content" class="container main_content single">
  <header class="container hat">
  <h1>chiventure: a Text Adventure Game Engine
</h1>

</header>

  <div class="container content">
  <pre><code>You wake up to find yourself in a strange hall. You have no idea how you got here. The last thing you remember is a blinding flash of light. You look at the tapestries lining the walls for any clues on your whereabouts. The tapestries depict valiant knights, fire-breathing wyverns, armies of goblins, and fearsome rulers sitting in their gilded thrones. Wherever you are, it must be in a different world from your own. 

No, not just a different world, but a different time altogether. 

A time of wizards and warlords and all manner of magical creatures, a time to fight back the forces of Throxar the Terrible and to heed the counsel of Wilfrax the Wise... 

It is a time of adventure. 

It is the time of...
</code></pre><p><a href="https://www.youtube.com/watch?v=DGSXURPvRxY"><img src="/cmsc22000/img/chiventure.jpg" alt="chiventure" title="chiventure"></a></p>
<p>The CMSC 22000 project revolves around implementing a <em>text adventure game engine</em>. This means that you won’t be implementing an individual game but, rather, a platform that allows game authors (with little or no knowledge of computer programming) to develop text adventure games.</p>
<p>Not just that, you won&rsquo;t be implementing it from scratch but, rather, will work on existing code that was written in previous offerings of CMSC 22000.</p>
<h1 id="text-adventure-games">Text Adventure Games</h1>
<p>An <a href="https://en.wikipedia.org/wiki/Adventure_game">adventure game</a> is a type of video game where the player is the protagonist of an interactive story. Broadly speaking, the protagonist inhabits a world that they can interact with: exploring their surroundings (e.g., reading a sign on the wall), going from one part of the world to another (e.g., going from one room to an adjacent room), manipulating objects in the world (e.g., using a crowbar to open a door), or conversing with non-player characters to gain knowledge that may prove useful later on. The game will have some sort of objective (like finding a treasure), which will mark the conclusion of the game (and the story).</p>
<p>In the early days of video games, adventure games were <em>text-based</em>, and players would specify actions using a command-line interface. For example, here is a screenshot of the classic adventure game <a href="https://en.wikipedia.org/wiki/Zork">Zork</a> (note how commands are entered after the <code>&gt;</code> prompt)</p>
<p><img src="/cmsc22000/img/zork.png" alt="Zork" title="Zork"></p>
<p>Over time, adventure games became more sophisticated, featuring graphical interfaces, like the one in <a href="https://en.wikipedia.org/wiki/The_Secret_of_Monkey_Island">The Secret of Monkey Island</a> (1990):</p>
<p><img src="/cmsc22000/img/monkey_island.png" alt="The Secret of Monkey Island" title="The Secret of Monkey Island"></p>
<p>Source: <a href="https://advgamer.blogspot.com/2014/04/game-43-secret-of-monkey-island-herring.html">https://advgamer.blogspot.com/2014/04/game-43-secret-of-monkey-island-herring.html</a></p>
<p>However, notice how this still retains the basic elements of an adventure game. For example, the player still inhabits a world they can interact with except, instead of typing actions, the player can select actions (Open, Close, Push, etc.) with the mouse, and then point to the recipient of that action (e.g, “Walk to pirate”)</p>
<p>Adventure games are rarely implemented entirely from scratch, though (in fact, this is true of most modern games too). Most games are implemented using a <a href="https://en.wikipedia.org/wiki/Game_engine">game engine</a>, a platform that provides game developers with high-level abstractions for writing games, so they don’t have to worry about every single detail of implementing the game.</p>
<p>For example, <a href="https://en.wikipedia.org/wiki/LucasArts">LucasArts</a> was a prolific publisher of graphic adventure games (<a href="https://en.wikipedia.org/wiki/The_Secret_of_Monkey_Island">The Secret of Monkey Island</a>, <a href="https://en.wikipedia.org/wiki/Loom_(video_game)">Loom</a>, <a href="https://en.wikipedia.org/wiki/Sam_%26_Max_Hit_the_Road">Sam &amp; Max Hit the Road</a>, <a href="https://en.wikipedia.org/wiki/Indiana_Jones_and_the_Fate_of_Atlantis">Indiana Jones and the Fate of Atlantis</a>, &hellip;), and most of them were implemented using a game engine called <a href="https://en.wikipedia.org/wiki/SCUMM">SCUMM</a>, which provided  a high-level scripting language for specifying games, allowing game authors to focus on the narrative elements of the game, while the SCUMM developers focused on the low-level details (e.g., parsing the commands from the user, playing sounds, etc.)</p>
<p>For example, here is a simple SCUMM script that describes a “room” in a game (source: <a href="https://monades.roperzh.com/scumm-internals-syntax/">https://monades.roperzh.com/scumm-internals-syntax/</a>; check out that page to learn more about SCUMM)</p>
<pre><code>    room &quot;doorstep&quot; doorstep {
      sounds {
        &quot;SFX/doorclos&quot; door-close
        &quot;SFX/dooropen&quot; door-open
      }

      costumes {
        &quot;costumes\dave&quot; dave-skin
      }

      enter {
        ; Code to set up the room lives here,
        ; you can trigger sounds, animations, etc.
      }

      exit {
        ; Things to do when exiting the room,
        ; cleaning states, stopping sounds, etc
      }

      object Key {
        name is &quot;key&quot;

        verb look-at {
          say-line &quot;it is a key&quot;
        }

        verb pick-up {
          pick-up-object key
        }
      }
    }
</code></pre><p>Similarly, Zork (and several other games from that era) ran on the <a href="https://en.wikipedia.org/wiki/Z-machine">Z-machine</a> game engine, with games written in a language called Z-code (the Z-machine is, strictly speaking, a virtual machine, but we can think of it as a game engine). While text adventure games are less common nowadays, the text adventure format still thrives in the <a href="https://en.wikipedia.org/wiki/Interactive_fiction">interactive fiction</a> genre, which can be written in languages like <a href="https://en.wikipedia.org/wiki/Inform">Inform</a> (which are relatively easy to use by authors without a technical background).</p>
<p>If you&rsquo;d like to learn more about text adventure games, specially as they relate to interactive fiction, we recommend checking out the <a href="https://www.red-bean.com/sussman/if/">Interactive Fiction!</a> page by <a href="https://www.red-bean.com/sussman/">Ben Collins-Sussman</a> (SB'94). This page also includes links to several games and interactive novels that you can play for free. If you&rsquo;d like to get a feel for what a text adventure game feels like, we recommend checking out the interactive spy novel, <a href="https://en.wikipedia.org/wiki/Spider_and_Web">Spider and Web</a>. You can play the novel for free <a href="https://eblong.com/zarf/zweb/tangle/">here</a>.</p>
<p>If you&rsquo;d like to try out a graphic adventure game, many classic adventure games are available on Steam, including <a href="https://store.steampowered.com/app/32360/The_Secret_of_Monkey_Island_Special_Edition/">The Secret of Monkey Island</a>, <a href="https://store.steampowered.com/app/6010/Indiana_Jones_and_the_Fate_of_Atlantis/">Indiana Jones and the Fate of Atlantis</a>, and many others.</p>
<h1 id="chiventure-architecture">chiventure architecture</h1>
<p>At the moment, the chiventure code is divided into the following components:</p>
<ul>
<li><strong>WDL</strong>: Games are specified in a language known as the World Description Language (WDL). This component is responsible for defining this language, and for parsing it. The current specification of the WDL can be found <a href="https://github.com/uchicago-cs/chiventure/blob/master/docs/wdl.md">here</a>.</li>
<li><strong>Game State</strong>: A game will have some state we need to keep track of: rooms, objects in rooms, players, non-player characters, etc. This component models this state, and provides interfaces for simple manipulations of the state of the game (e.g., placing an object in the player’s inventory)</li>
<li><strong>Action Management</strong>: During the game, a player is able to perform actions (pushing, pulling, opening, closing, etc.) that will usually affect the state of the game in some way. The processing of these actions can be non-trivial; for example, picking up an object may only be possible if a certain condition is met (e.g., a magical orb can only be taken if you are in possession of a talisman) and may have additional effects (e.g., pushing a brick in a wall may unlock a door in a different room). This component is responsible for processing actions like “take the orb” (and checking whether it is possible to perform that action).</li>
<li><strong>CLI</strong>: This component is responsible for providing a command prompt, and parsing the commands entered by the user, and using the game state to validate some commands. For example, if a user types “push button”, the CLI would not call Action Management right away. Instead, it would check whether there is anything in the room that can be identified by “button”, whether it can be pushed, and may even have to ask the user to clarify what button (if there are multiple buttons in the room).</li>
<li><strong>UI</strong>: This component is responsible for the non-CLI elements of the user interface, including the the display of a game map.</li>
</ul>
<p>There is an additional component that is currently mothballed, pending deeper changes to how WDL and Game State are implemented in chiventure:</p>
<ul>
<li><strong>Checkpointing</strong>: As the state of the game changes, that player may want to checkpoint the game so they can resume it at a later time (i.e., the player may want to save games and load games). This component is responsible for defining a file format for saving the state of the game, and providing interfaces for saving/loading this state.</li>
</ul>
<p>Additional documentation on the implementation of chiventure can be found in the <a href="https://github.com/uchicago-cs/chiventure/tree/master/docs">docs/</a> directory of the chiventure repository.</p>

</div>


  
</article>
      <footer id="main-footer" class="container main_footer">
  

  <div class="container nav foot no-print">
  

  <a class="toplink" href="#">back to top</a>

</div>

  <div class="container credits">
  
<div class="container footline">
  

</div>


  

</div>

</footer>

    </main>
    


    
  </body>
</html>

